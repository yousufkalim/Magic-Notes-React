(this["webpackJsonpmagic-notes"]=this["webpackJsonpmagic-notes"]||[]).push([[0],{58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),i=n.n(a),l=n(19),o=n.n(l),s=n(23),r=n(4),d=(n(58),n(59),n(60),n(61),n(14)),u=n(50),j=n(28),b=n(33),h=n(21),O=n.n(h);function p(e,t){t((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(j.a)({},e.target.name,e.target.value))}))}function f(e){var t=e.target.value.toLowerCase(),n=document.getElementsByClassName("card");Array.from(n).forEach((function(e){var n=e.getElementsByTagName("h2")[0].innerText.toLowerCase(),c=e.getElementsByTagName("p")[0].innerText.toLowerCase();n.includes(t)||c.includes(t)?e.style.display="inline-block":e.style.display="none"}))}function x(e,t){O.a.patch("http://localhost:5000/notes/".concat(e)).then((function(){t()})).catch((function(e){return console.log(e)}))}var m=function(){return Object(c.jsxs)("nav",{children:[Object(c.jsx)("div",{className:"logo",children:Object(c.jsx)(s.b,{to:"/",children:Object(c.jsx)("span",{children:"Magic Notes"})})}),Object(c.jsx)("div",{className:"search",children:Object(c.jsx)("input",{type:"text",id:"search",placeholder:"Search",onChange:f})})]})},v=n(31),y=n.n(v),g=n(99);var N=function(e){var t=Object(a.useState)({title:"",note:""}),n=Object(d.a)(t,2),i=n[0],l=n[1],o=Object(a.useState)(""),s=Object(d.a)(o,2),r=s[0],u=s[1],j=Object(a.useState)(!1),b=Object(d.a)(j,2),h=b[0],f=b[1];return Object(c.jsx)("section",{children:Object(c.jsx)("div",{className:"input-container",children:Object(c.jsxs)("form",{onSubmit:function(t){return function(e,t,n,c,a){a.preventDefault(),O.a.post("http://localhost:5000/notes",{withCredentials:!0,data:e}).then((function(){c(),t({title:"",note:""}),n("")})).catch((function(e){n("Note Cannot be empty")}))}(i,l,u,e.handleReload,t)},style:""!==r?{border:"2px solid red"}:null,children:[h?Object(c.jsx)("input",{type:"text",name:"title",placeholder:"Title",value:i.title,onChange:function(e){return p(e,l)}}):null,Object(c.jsx)("textarea",{cols:"30",rows:"5",name:"note",placeholder:"Take a note...",value:i.note,onChange:function(e){return p(e,l)},onClick:function(){return f(!0)}}),r?Object(c.jsx)("span",{className:"create-error",children:"Note Cannot be Empty"}):null,h?Object(c.jsx)(g.a,{type:"submit",children:Object(c.jsx)(y.a,{})}):null]})})})},C=n(48),S=n.n(C),E=n(49),k=n.n(E),R=n(47),w=n.n(R),T=n(46),B=n.n(T);var U=function(e){return Object(c.jsx)(i.a.Fragment,{children:Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"card",id:e.id,children:[Object(c.jsx)("h2",{children:e.title}),Object(c.jsx)("p",{children:e.note}),Object(c.jsxs)("div",{className:"card-btn",children:[e.pinned?Object(c.jsx)(B.a,{className:"pinned-btn",style:{visibility:"visible"},onClick:function(){return x(e.id,e.handleReload)}}):Object(c.jsx)(w.a,{className:"pinned-btn",onClick:function(){return x(e.id,e.handleReload)}}),Object(c.jsx)(g.a,{className:"edit-btn",onClick:function(){return e.handleUpdateStatus(e.id,e.title,e.note)},children:Object(c.jsx)(S.a,{})}),Object(c.jsx)(g.a,{className:"del-btn",onClick:function(){return t=e.id,n=e.handleReload,void O.a.delete("http://localhost:5000/notes/".concat(t)).then((function(){return n()})).catch((function(e){return console.log(e)}));var t,n},children:Object(c.jsx)(k.a,{})})]})]})})})};var I=function(e){var t=Object(a.useState)({title:"",note:""}),n=Object(d.a)(t,2),i=n[0],l=n[1],o=Object(a.useState)(""),s=Object(d.a)(o,2),r=s[0],u=s[1];return Object(a.useEffect)((function(){l({title:e.title,note:e.note})}),[e.update]),Object(c.jsx)("section",{children:Object(c.jsx)("div",{className:"input-container",children:Object(c.jsxs)("form",{onSubmit:function(t){return function(e,t,n,c,a,i){i.preventDefault(),O.a.put("http://localhost:5000/notes/".concat(e),{withCredentials:!0,data:t}).then((function(){c(),a({status:0,id:"",title:"",note:""}),document.getElementById(e).style.display="inline-block"})).catch((function(){n("Note Cannot be empty")}))}(e.id,i,u,e.handleReload,e.setUpdate,t)},style:""!==r?{border:"2px solid red"}:null,children:[Object(c.jsx)("input",{type:"text",name:"title",placeholder:"Title",value:i.title,onChange:function(e){return p(e,l)}}),Object(c.jsx)("textarea",{cols:"30",rows:"5",name:"note",placeholder:"Take a note...",value:i.note,onChange:function(e){return p(e,l)}}),r?Object(c.jsx)("span",{className:"create-error",children:"Note Cannot be Empty"}):null,Object(c.jsx)(g.a,{type:"submit",children:Object(c.jsx)(y.a,{})})]})})})};var D=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],l=t[1],o=Object(a.useState)(0),s=Object(d.a)(o,2),r=s[0],j=s[1],b=Object(a.useState)({status:0,id:"",title:"",note:""}),h=Object(d.a)(b,2),p=h[0],f=h[1];Object(a.useEffect)((function(){!function(e){O.a.get("http://localhost:5000/notes").then((function(t){return e(Object(u.a)(t.data.reverse()))})).catch((function(e){return console.log(e)}))}(l)}),[r]);var x=n.filter((function(e){return!0===e.pinned})),v=n.filter((function(e){return!1===e.pinned}));function y(){j((function(e){return++e}))}var g=function(e,t,n){for(var c=document.getElementsByClassName("card"),a=0;a<c.length;a++)c[a].style.display="inline-block";document.getElementById(e).style.display="none",f((function(c){return{status:c.status+1,id:e,title:t,note:n}}))};return Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsx)(m,{}),0!==p.status?Object(c.jsx)(I,{handleReload:y,id:p.id,title:p.title,note:p.note,update:p,setUpdate:f}):Object(c.jsx)(N,{handleReload:y}),Object(c.jsxs)("div",{className:"cards-container",children:[0===x.length?null:Object(c.jsxs)("div",{className:"pinned-container",children:[Object(c.jsx)("p",{id:"pinned-title",children:"PINNED"}),x.map((function(e,t){return Object(c.jsx)(U,{handleReload:y,handleUpdateStatus:g,id:e._id,title:e.title,note:e.note,pinned:e.pinned},t)})),Object(c.jsx)("p",{id:"others-title",children:"OTHERS"})]}),Object(c.jsx)("div",{className:"Others-container",children:v.map((function(e,t){return Object(c.jsx)(U,{handleReload:y,handleUpdateStatus:g,id:e._id,title:e.title,note:e.note,pinned:e.pinned},t)}))})]})]})};var F=function(){return Object(c.jsxs)(r.d,{children:[Object(c.jsx)(r.b,{exact:!0,path:"/",component:D}),Object(c.jsx)(r.a,{to:"/"})]})};o.a.render(Object(c.jsx)(s.a,{children:Object(c.jsx)(F,{})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.212a4fe7.chunk.js.map